<div class="col-sm-12 mt-2">
    <div class="row">
        <div class="mat-elevation-z0 col-md-12">
            <div class="col-sm-12">
                <h1 class="header">
                    Product <button class="btn-add-item" mat-icon-button color="warn" matTooltip="Add Product"
                        (click)="addProduct()">
                        <mat-icon>add</mat-icon>
                    </button>
                </h1>
            </div>
            <mat-form-field>
                <mat-label>Search</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Adidas">
            </mat-form-field>
            <mat-table class="mat-elevation-z0" [dataSource]="dataSource" matSort>

                <div>
                    <ng-container matColumnDef="image">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Image
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">
                            <img alt="Product Image" [src]="element.imageData" class="image">
                        </mat-cell>
                    </ng-container>
                </div>

                <div>
                    <ng-container matColumnDef="id">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Id
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.id}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="name">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Name
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.name}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="description">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Desc
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.description}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="mrp">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>MRP ($)
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.mrp}}</mat-cell>
                    </ng-container>
                </div>

                <div>
                    <ng-container matColumnDef="price">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Price ($)
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.price}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="catalogType">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Type
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.catalogType}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="catalogBrand">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Brand
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">{{element.catalogBrand}}</mat-cell>
                    </ng-container>
                </div>


                <div>
                    <ng-container matColumnDef="availableStock">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Available Stock
                        </mat-header-cell>
                        <mat-cell [ngClass]="{'bold': element.toReplenish === true}" *matCellDef="let element">
                            {{element.availableStock}}
                            &nbsp;({{element.restockThreshold}}/{{element.maxStockThreshold}})
                        </mat-cell>

                    </ng-container>
                </div>

                <div>
                    <ng-container matColumnDef="action">
                        <mat-header-cell *matHeaderCellDef [ngClass]="'action-class'">Action</mat-header-cell>
                        <mat-cell *matCellDef="let row" [ngClass]="'action-class'">
                            <button mat-icon-button class="action-btn" matTooltip="Edit">
                                <mat-icon (click)="editProduct(row.id)">create</mat-icon>
                            </button>
                            <button mat-icon-button class="action-btn" matTooltip="Delete">
                                <mat-icon (click)="deleteProduct(row.id)">delete</mat-icon>
                            </button>
                        </mat-cell>
                    </ng-container>
                </div>

                <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayColumns;" [ngClass]="{
                    'deleted': row.toReplenish,
                    'hovered': row.hovered,
                    'hovered-deleted': row.hovered && row.toReplenish
                }" (mouseover)="row.hovered = true" (mouseout)="row.hovered = false"></mat-row>
            </mat-table>
            <mat-paginator [pageSize]="10"></mat-paginator>
        </div>
    </div>
</div>